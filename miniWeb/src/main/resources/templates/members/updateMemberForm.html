<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script th:inline="javascript">
        function reallyDelete(url){
            var returnValue = confirm('정말로 탈퇴하시겠습니까?');

            if(returnValue == true){ location.href=url; }
            else { location.href="http://localhost:8080/" }
        }
    </script>
</head>

<body>
<div class="container">

    <form th:action="@{/members/{memberIdx}/edit}" th:object="${memberEditForm}" method="post">
        <input type="hidden" th:field="*{memberIdx}" />

        <div>
            <label th:for="name">이름</label>
            <input type="text" th:field="*{name}" class="form-control"/>
        </div>
        <div>
            <label th:for="id">아이디</label>
            <input type="text" th:field="*{id}" class="form-control" readonly="readonly"/>
        </div>
        <div class="form-group">
            <label th:for="password">비밀번호</label>
            <input type="password" th:field="*{password}" class="form-control" required/>
        </div>
        <div class="form-group">
            <label th:for="age">나이</label>
            <input type="number" th:field="*{age}" class="form-control" />
        </div>
        <div class="form-group">
            <label th:for="tel">전화번호</label>
            <input type="text" th:field="*{tel}" class="form-control"/>
        </div>

        <input type="hidden" th:field="*{joindate}" />

        <button type="submit">Submit</button>

        <hr>

        <div>
            <button th:onclick="|location.href='@{/updateLoginHome}'|" type="button">메인</button>
            <button th:onclick="|javascript:reallyDelete('@{/{memberIdx}/destroy(memberIdx=*{memberIdx})}')|">회원 탈퇴</button>
        </div>
    </form>


</div>
</body>
</html>